def compute_frame_activity(frame: np.ndarray) -> float:
    """
    Runs the ONNX model on a frame and returns a scalar 'activity' score.
    Higher means more complex/active scene.
    """
    net = _get_net()
    blob = cv2.dnn.blobFromImage(
        frame, 1 / 255.0, (640, 640), swapRB=True, crop=False
    )
    net.setInput(blob)
    outs = net.forward()

    if isinstance(outs, np.ndarray):
        arr = outs
    elif isinstance(outs, (list, tuple)):
        arrays = [a for a in outs if isinstance(a, np.ndarray)]
        if not arrays:
            print("Activity score: 0.0 (no arrays)")
            return 0.0
        arr = max(arrays, key=lambda a: a.size)
    else:
        print("Activity score: 0.0 (unexpected outs type)")
        return 0.0

    # Use std as a proxy for complexity
    std = float(np.std(arr))
    # Very gentle scaling to avoid always getting 1.0
    score = std / 20.0
    if score > 1.0:
        score = 1.0
    if score < 0.0:
        score = 0.0

    print("Raw std:", std, "Score:", score)
    return score
